{"version":3,"sources":["components/BookListItem/BookListItem.module.css","components/BookList/BooklList.module.css","components/Loader/Loader.module.css","components/SearchForm/SearchForm.module.css","components/SearchForm/SearchForm.js","components/BookListItem/BookListItem.js","components/BookList/BookList.js","components/Loader/Loader.js","services/api.js","components/App.js","index.js"],"names":["module","exports","bookCard","title","text","subtitle","bookList","loader","form","input","button","select","SearchForm","state","value","genre","handleInputChange","event","_this","setState","target","handleSelectorChange","handleSubmit","preventDefault","props","onSubmit","_this$state","this","genres","react_default","a","createElement","className","styles","type","onChange","map","category","key","Component","BookListItem","_ref","image","description","author","publisher","publishedDate","pageCount","_ref$rating","rating","src","alt","defaultProps","BookList","items","item","id","components_BookListItem_BookListItem","Loader","URL","fetchBooks","query","axios","get","concat","mapper","data","_ref$volumeInfo","volumeInfo","imageLinks","thumbnail","Object","slicedToArray","authors","averageRating","objectWithoutProperties","objectSpread","App","isLoading","getBooks","then","catch","error","statusText","finally","prevState","prevGenre","nextGenre","react","SearchForm_SearchForm","components_Loader_Loader","length","components_BookList_BookList","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.5437680a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookCard\":\"BookListItem_bookCard__jIs0-\",\"title\":\"BookListItem_title__1ShHQ\",\"text\":\"BookListItem_text__29kvB\",\"subtitle\":\"BookListItem_subtitle__TPDI9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookList\":\"BooklList_bookList__3clMR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader___n6bB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__15cji\",\"input\":\"SearchForm_input__2Jbal\",\"button\":\"SearchForm_button__3tmKc\",\"select\":\"SearchForm_select__2Acse\"};","import React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    genres: propTypes.arrayOf(propTypes.string.isRequired).isRequired,\n    onSubmit: propTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n    genre: '',\n  };\n\n  handleInputChange = event => {\n    this.setState({ value: event.target.value });\n  };\n\n  handleSelectorChange = event => {\n    this.setState({ genre: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.genre, this.state.value);\n    this.setState({ value: '', genre: '' });\n  };\n\n  render() {\n    const { value, genre } = this.state;\n    const { genres } = this.props;\n    return (\n      <form onSubmit={this.handleSubmit} className={styles.form}>\n        <input\n          type=\"text\"\n          value={value}\n          onChange={this.handleInputChange}\n          className={styles.input}\n        />\n\n        <select\n          value={genre}\n          onChange={this.handleSelectorChange}\n          className={styles.select}\n        >\n          {genres.map(category => (\n            <option key={category} value={category}>\n              {category}\n            </option>\n          ))}\n        </select>\n        <button type=\"submit\" className={styles.button}>\n          Search\n        </button>\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport styles from './BookListItem.module.css';\n\nconst BookListItem = ({\n  image,\n  title,\n  description,\n  author,\n  publisher,\n  publishedDate,\n  pageCount,\n  rating = 0,\n}) => (\n  <div className={styles.bookCard}>\n    <img src={image} alt=\"\" />\n    <h2 className={styles.title}>{title}</h2>\n    <p className={styles.text}>\n      <span className={styles.subtitle}>Description: </span>\n      {description}\n    </p>\n    <p className={styles.text}>\n      <span className={styles.subtitle}>Author: </span>\n      {author}\n    </p>\n    <p className={styles.text}>\n      <span className={styles.subtitle}>Publisher: </span>\n      {publisher}\n    </p>\n    <p className={styles.text}>\n      <span className={styles.subtitle}>Published date: </span>\n      {publishedDate}\n    </p>\n    <p className={styles.text}>\n      <span className={styles.subtitle}>Page count: </span>\n      {pageCount}\n    </p>\n    <p className={styles.text}>\n      <span className={styles.subtitle}>Rating: </span>\n      {rating}\n    </p>\n  </div>\n);\n\nBookListItem.propTypes = {\n  image: propTypes.string.isRequired,\n  title: propTypes.string.isRequired,\n  description: propTypes.string,\n  author: propTypes.string.isRequired,\n  publisher: propTypes.string,\n  publishedDate: propTypes.string,\n  pageCount: propTypes.number,\n  rating: propTypes.number,\n};\n\nBookListItem.defaultProps = {\n  description: '',\n  publisher: '',\n  publishedDate: '',\n  pageCount: 0,\n  rating: 0,\n};\nexport default BookListItem;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport BookListItem from '../BookListItem/BookListItem';\nimport styles from './BooklList.module.css';\n\nconst BookList = ({ items }) => (\n  <ul className={styles.bookList}>\n    {items.map(item => (\n      <li key={item.id}>\n        <BookListItem {...item} />\n      </li>\n    ))}\n  </ul>\n);\n\nBookList.propTypes = {\n  items: propTypes.arrayOf(\n    propTypes.shape({ id: propTypes.string.isRequired }).isRequired,\n  ).isRequired,\n};\n\nexport default BookList;\n","import React from 'react';\nimport styles from './Loader.module.css';\n\nconst Loader = () => <h2 className={styles.loader}>Loading...</h2>;\n\nexport default Loader;\n","import axios from 'axios';\n\nconst URL = `https://www.googleapis.com/books/v1/volumes?q=`;\n\nconst fetchBooks = (query, genre) => {\n  return genre === ''\n    ? axios.get(`${URL}${query}`)\n    : axios.get(`${URL}${query}+subject:${genre}`);\n};\nexport default fetchBooks;\n","import React, { Component, Fragment } from 'react';\nimport SearchForm from './SearchForm/SearchForm';\nimport BookList from './BookList/BookList';\nimport Loader from './Loader/Loader';\nimport genres from '../assets/genres.json';\nimport fetchBooks from '../services/api';\n\nconst mapper = data =>\n  data.map(\n    ({\n      id,\n      volumeInfo: {\n        imageLinks: { thumbnail: image },\n        authors: [author],\n        averageRating: rating,\n        ...props\n      },\n    }) => ({ id, image, author, rating, ...props }),\n  );\n\nexport default class App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevState) {\n    const { genre: prevGenre } = prevState;\n    const { genre: nextGenre } = this.state;\n\n    if (prevGenre !== nextGenre) {\n      this.getBooks(nextGenre);\n    }\n  }\n\n  getBooks = (query, genre) => {\n    this.setState({ isLoading: true });\n\n    fetchBooks(genre, query)\n      .then(data => this.setState({ items: mapper(data.data.items) }))\n      .catch(error => error.statusText)\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { items, isLoading } = this.state;\n    return (\n      <Fragment>\n        <SearchForm genres={genres} onSubmit={this.getBooks} />\n        {isLoading && <Loader />}\n        {items.length > 0 && <BookList items={items} />}\n      </Fragment>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}